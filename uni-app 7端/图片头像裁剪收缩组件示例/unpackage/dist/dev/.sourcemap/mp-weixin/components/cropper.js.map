{"version":3,"sources":["webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?6914","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?8947","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?1333","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?f8e9","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?4bad","webpack:///E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue?1a82"],"names":["tabHeight","name","data","cvsStyleHeight","styleDisplay","styleTop","prvTop","imgStyle","selStyle","showOper","imgSrc","qlty","postWidthFirst","watch","avatarSrc","props","avatarStyle","selWidth","selHeight","expWidth","expHeight","minScale","maxScale","canScale","noTab","quality","index","created","ctxCanvas","uni","createCanvasContext","ctxCanvasOper","parseInt","letScale","indx","undefined","mnScale","mxScale","noBar","moreHeight","fWindowResize","showTabBar","complete","res","errMsg","methods","sysInfo","getSystemInfoSync","platform","pixelRatio","windowWidth","windowHeight","pxRatio","style","exportWidth","indexOf","exportHeight","fDrawInit","fHideImg","fSelect","fSelecting","setTimeout","chooseImage","count","sizeType","sourceType","success","r","showLoading","mask","path","imgPath","tempFilePaths","getImageInfo","src","imgWidth","width","imgHeight","height","hasSel","top","left","showModal","title","showCancel","hideTabBar","fail","showToast","duration","hideLoading","fUpload","fUploading","x","y","canvasToTempFilePath","destWidth","destHeight","canvasId","fileType","tempFilePath","$emit","avatar","ini","allWidth","allHeight","imgRadio","useWidth","useHeight","fixWidth","fixHeight","scaleSize","rotateDeg","posWidth","posHeight","canvas","canvasOper","setFillStyle","fillRect","setLineWidth","setStrokeStyle","strokeRect","moveTo","lineTo","stroke","postFirst","draw","fDrawImage","tm_now","Date","now","drawTm","translate","scale","drawImage","prvImg","prvImgData","target","fClose","fStart","e","touches","touch0","touch1","fgDistance","Math","sqrt","fMove","beScaleSize","letRotate","atan","PI","beX","beY","abs","lckWidth","lckHeight","fEnd","self","endWidth","firstWidth","endHeight","firstHigth","btop","base64","Promise","resolve","reject","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type"],"mappings":"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","file":"components/cropper.js","sourcesContent":["import { render, staticRenderFns } from \"./cropper.vue?vue&type=template&id=0113ac26&name=cropper&\"\nimport script from \"./cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cropper.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0113ac26', component.options)\n    } else {\n      api.reload('0113ac26', component.options)\n    }\n    module.hot.accept(\"./cropper.vue?vue&type=template&id=0113ac26&name=cropper&\", function () {\n      api.rerender('0113ac26', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/study/黑马/资料/uni-app 7端/图片头像裁剪收缩组件示例/components/cropper.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cropper.vue?vue&type=template&id=0113ac26&name=cropper&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cropper.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst tabHeight = 70;\nexport default {\n\tname: \"cropper\",\n\tdata() {\n\t\treturn {\n\t\t\tcvsStyleHeight: '0px',\n\t\t\tstyleDisplay: 'none',\n\t\t\tstyleTop: '-10000px',\n\t\t\tprvTop: '-10000px',\n\t\t\timgStyle: {},\n\t\t\tselStyle: {},\n\t\t\tshowOper: true,\n\t\t\timgSrc: {\n\t\t\t\timgSrc: ''\n\t\t\t},\n\t\t\tqlty: 0.9,\n\t\t\tpostWidthFirst: {},\n\t\t};\n\t},\n\twatch: {\n\t\tavatarSrc() {\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\t}\n\t},\n\tprops: {\n\t\tavatarSrc: '',\n\t\tavatarStyle: '',\n\t\tselWidth: '',\n\t\tselHeight: '',\n\t\texpWidth: '',\n\t\texpHeight: '',\n\t\tminScale: '',\n\t\tmaxScale: '',\n\t\tcanScale: '',\n\t\tnoTab: '',\n\t\tquality: '',\n\t\tindex: ''\n\t},\n\tcreated() {\n\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-canvas', this);\n\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\n\n\t\tthis.qlty = parseInt(this.quality) || 0.9;\n\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\tthis.letScale = this.canScale === 'false' ? 0 : 1;\n\t\tthis.indx = this.index || undefined;\n\t\tthis.mnScale = this.minScale || 0.3;\n\t\tthis.mxScale = this.maxScale || 4;\n\t\tthis.noBar = this.noTab === 'true' ? 1 : 0;\n\t\tif (this.noBar) {\n\t\t\tthis.moreHeight = 0;\n\t\t\tthis.fWindowResize();\n\t\t} else {\n\t\t\tuni.showTabBar({\n\t\t\t\tcomplete: (res) => {\n\t\t\t\t\tthis.moreHeight = (res.errMsg === 'showTabBar:ok') ? 50 : 0;\n\t\t\t\t\tthis.fWindowResize();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tfWindowResize() {\n\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\tthis.platform = sysInfo.platform;\n\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\n\t\t\tthis.windowWidth = sysInfo.windowWidth;\n\n\n\n\n\n\n\t\t\tthis.windowHeight = sysInfo.windowHeight;\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px'\n\n\t\t\tthis.pxRatio = this.windowWidth / 750;\n\n\t\t\tlet style = this.avatarStyle;\n\t\t\tthis.imgStyle = style;\n\t\t\tthis.expWidth && (this.exportWidth = this.expWidth.indexOf('rpx') >= 0 ? parseInt(this.expWidth) * this.pxRatio :\n\t\t\t\tparseInt(this.expWidth));\n\t\t\tthis.expHeight && (this.exportHeight = this.expHeight.indexOf('rpx') >= 0 ? parseInt(this.expHeight) * this.pxRatio :\n\t\t\t\tparseInt(this.expHeight));\n\n\t\t\tif (this.styleDisplay === 'flex') {\n\t\t\t\tthis.fDrawInit(true);\n\t\t\t}\n\t\t\tthis.fHideImg();\n\t\t},\n\t\tfSelect() {\n\t\t\tif (this.fSelecting) return;\n\t\t\tthis.fSelecting = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fSelecting = false;\n\t\t\t}, 500);\n\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['camera', 'album'],\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\tmask: true\n\t\t\t\t\t});\n\t\t\t\t\tlet path = this.imgPath = r.tempFilePaths[0];\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: path,\n\t\t\t\t\t\tsuccess: r => {\n\t\t\t\t\t\t\tthis.imgWidth = r.width;\n\t\t\t\t\t\t\tthis.imgHeight = r.height;\n\t\t\t\t\t\t\tthis.path = path;\n\t\t\t\t\t\t\tif (!this.hasSel) {\n\t\t\t\t\t\t\t\tlet style = this.selStyle || {};\n\t\t\t\t\t\t\t\tif (this.selWidth && this.selHeight) {\n\t\t\t\t\t\t\t\t\tlet selWidth = this.selWidth.indexOf('rpx') >= 0 ? parseInt(this.selWidth) * this.pxRatio :\n\t\t\t\t\t\t\t\t\t\tparseInt(this.selWidth),\n\t\t\t\t\t\t\t\t\t\tselHeight = this.selHeight.indexOf('rpx') >= 0 ? parseInt(this.selHeight) * this.pxRatio :\n\t\t\t\t\t\t\t\t\t\tparseInt(this.selHeight);\n\t\t\t\t\t\t\t\t\tstyle.width = parseInt(selWidth);\n\t\t\t\t\t\t\t\t\tstyle.height = parseInt(selHeight);\n\t\t\t\t\t\t\t\t\tstyle.top = parseInt((this.windowHeight - style.height - tabHeight) / 2);\n\t\t\t\t\t\t\t\t\tstyle.left = parseInt((this.windowWidth - style.width) / 2);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.selStyle = style;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.noBar) {\n\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideTabBar({\n\t\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: () => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"error3\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfUpload() {\n\t\t\tif (this.fUploading) return;\n\t\t\tthis.fUploading = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.fUploading = false;\n\t\t\t}, 1000)\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\texpWidth = this.exportWidth || width,\n\t\t\t\texpHeight = this.exportHeight || height;\n\n\n\n\n\n\n\n\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdestWidth: expWidth,\n\t\t\t\tdestHeight: expHeight,\n\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r) => {\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", {\n\t\t\t\t\t\tavatar: this.imgSrc,\n\t\t\t\t\t\tpath: r,\n\t\t\t\t\t\tindex: this.indx\n\t\t\t\t\t});\n\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error1\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis.noBar || uni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfDrawInit(ini = false) {\n\t\t\tlet allWidth = this.windowWidth,\n\t\t\t\tallHeight = this.windowHeight,\n\t\t\t\timgWidth = this.imgWidth,\n\t\t\t\timgHeight = this.imgHeight,\n\t\t\t\timgRadio = imgWidth / imgHeight,\n\t\t\t\tuseWidth = allWidth,\n\t\t\t\tuseHeight = allHeight - tabHeight,\n\t\t\t\tpixelRatio = this.pixelRatio,\n\t\t\t\tselWidth = parseInt(this.selStyle.width),\n\t\t\t\tselHeight = parseInt(this.selStyle.height);\n\n\t\t\tthis.fixWidth = 0;\n\t\t\tthis.fixHeight = 0;\n\t\t\t\n\t\t\tif (this.fixWidth) {\n\t\t\t\tuseWidth = selWidth;\n\t\t\t\tuseHeight = useWidth / imgRadio;\n\t\t\t} else if (this.fixHeight) {\n\t\t\t\tuseHeight = selHeight;\n\t\t\t\tuseWidth = useHeight * imgRadio;\n\t\t\t} else if (imgRadio < 1) {\n\t\t\t\tuseWidth = selWidth;\n\t\t\t\tuseHeight = parseInt(useWidth / imgRadio);\n\t\t\t} else {\n\t\t\t\tuseHeight = selHeight;\n\t\t\t\tuseWidth = parseInt(useHeight * imgRadio);\n\t\t\t}\n\n\t\t\tthis.scaleSize = 1;\n\t\t\tthis.rotateDeg = 0;\n\t\t\tthis.posWidth = parseInt((allWidth - useWidth) / 2);\n\t\t\tthis.posHeight = parseInt((allHeight - useHeight - tabHeight) / 2);\n\t\t\tthis.useWidth = useWidth;\n\t\t\tthis.useHeight = useHeight;\n\n\n\t\t\tlet style = this.selStyle,\n\t\t\t\tleft = parseInt(style.left),\n\t\t\t\ttop = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\tcanvas = this.canvas,\n\t\t\t\tcanvasOper = this.canvasOper,\n\t\t\t\tctxCanvas = this.ctxCanvas,\n\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\n\t\t\tctxCanvasOper.setFillStyle('rgba(0,0,0, 0.5)');\n\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\n\t\t\tctxCanvasOper.fillRect(0, top, left, height);\n\t\t\tctxCanvasOper.fillRect(0, top + height, this.windowWidth, this.windowHeight - height - tabHeight - top);\n\t\t\tctxCanvasOper.fillRect(left + width, top, this.windowWidth - width - left, height);\n\t\t\tctxCanvasOper.setLineWidth(1);\n\t\t\tctxCanvasOper.setStrokeStyle('rgba(255, 255, 255,1)'); //细线的颜色\n\t\t\tctxCanvasOper.strokeRect(left, top, width, height);\n\t\t\tctxCanvasOper.setLineWidth(3);\n\t\t\tctxCanvasOper.setStrokeStyle('rgba(255, 255, 255, 1)'); //粗线的颜色\n\t\t\tctxCanvasOper.moveTo(left + 20, top);\n\t\t\tctxCanvasOper.lineTo(left, top);\n\t\t\tctxCanvasOper.lineTo(left, top + 20);\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top);\n\t\t\tctxCanvasOper.lineTo(left + width, top);\n\t\t\tctxCanvasOper.lineTo(left + width, top + 20);\n\t\t\tctxCanvasOper.moveTo(left + 20, top + height);\n\t\t\tctxCanvasOper.lineTo(left, top + height);\n\t\t\tctxCanvasOper.lineTo(left, top + height - 20);\n\t\t\tctxCanvasOper.moveTo(left + width - 20, top + height);\n\t\t\tctxCanvasOper.lineTo(left + width, top + height);\n\t\t\tctxCanvasOper.lineTo(left + width, top + height - 20);\n\t\t\tctxCanvasOper.stroke();\n\t\t\tthis.postFirst = {\n\t\t\t\tleft: left,\n\t\t\t\ttop: top,\n\t\t\t\twidth: width,\n\t\t\t\theight: selWidth,\n\t\t\t\tposWidth: this.posWidth,\n\t\t\t\tposHeight: this.posHeight\n\t\t\t};\n\n\t\t\tctxCanvasOper.draw(false, () => {\n\t\t\t\tif (ini) {\n\t\t\t\t\tthis.styleDisplay = 'flex';\n\n\n\n\n\t\t\t\t\tthis.styleTop = '0';\n\n\t\t\t\t\tctxCanvas.setFillStyle('black');\n\t\t\t\t\tthis.fDrawImage();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.$emit(\"avtinit\");\n\t\t},\n\t\tfDrawImage() {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif (tm_now - this.drawTm < 20) return;\n\t\t\tthis.drawTm = tm_now;\n\t\t\tlet ctxCanvas = this.ctxCanvas;\n\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight - tabHeight);\n\t\t\t//中心点坐标\n\t\t\tctxCanvas.translate(this.posWidth + this.useWidth / 2, this.posHeight + this.useHeight / 2);\n\t\t\t//比例缩放\n\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\n\t\t\tctxCanvas.drawImage(this.imgPath, -this.useWidth / 2, -this.useHeight / 2, this.useWidth, this.useHeight);\n\t\t\tctxCanvas.draw(false);\n\t\t},\n\t\tfHideImg() {\n\t\t\tthis.prvImg = '';\n\t\t\tthis.prvTop = '-10000px';\n\t\t\tthis.showOper = true;\n\t\t\tthis.prvImgData = null;\n\t\t\tthis.target = null;\n\t\t},\n\t\tfClose() {\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tthis.noBar || uni.showTabBar();\n\t\t},\n\t\tfStart(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\n\t\t\tthis.touch0 = touch0;\n\t\t\tthis.touch1 = touch1;\n\n\t\t\tif (touch1) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y;\n\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\n\t\t\t}\n\t\t},\n\t\tfMove(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\n\t\t\tif (touch1) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y,\n\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\n\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\n\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (!this.letScale) break;\n\t\t\t\t\tif (beScaleSize < this.mnScale) break;\n\t\t\t\t\tif (beScaleSize > this.mxScale) break;\n\t\t\t\t\tthis.scaleSize = beScaleSize;\n\t\t\t\t} while (0);\n\t\t\t\tthis.fgDistance = fgDistance;\n\n\t\t\t\tif (touch1.x !== touch0.x && this.letRotate) {\n\t\t\t\t\tx = (this.touch1.y - this.touch0.y) / (this.touch1.x - this.touch0.x);\n\t\t\t\t\ty = (touch1.y - touch0.y) / (touch1.x - touch0.x);\n\t\t\t\t\tthis.rotateDeg += Math.atan((y - x) / (1 + x * y)) * 180 / Math.PI;\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\tthis.touch1 = touch1;\n\t\t\t\t}\n\n\t\t\t\tthis.fDrawImage();\n\t\t\t} else if (this.touch0) {\n\t\t\t\tlet x = touch0.x - this.touch0.x,\n\t\t\t\t\ty = touch0.y - this.touch0.y,\n\t\t\t\t\tbeX = this.posWidth + x,\n\t\t\t\t\tbeY = this.posHeight + y;\t\t\t\n\t\t\t\t\tif (Math.abs(x) < 100 && !this.lckWidth) this.posWidth = beX;\n\t\t\t\t\tif (Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t\tthis.fDrawImage();\n\t\t\t}\n\t\t},\n\t\tasync fEnd(e) {\n\t\t\tlet self = this;\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches && touches[0],\n\t\t\t\ttouch1 = touches && touches[1];\n\t\t\tif (self.scaleSize < 1) {\n\t\t\t\tlet style = self.selStyle;\n\t\t\t\tlet imgRadio = self.imgWidth / self.imgHeight;\n\t\t\t\t//高长宽短\n\t\t\t\tif (imgRadio < 1 && self.scaleSize * self.useWidth < style.width) {\n\t\t\t\t\tself.posWidth = style.left;\n\t\t\t\t\tself.scaleSize = 1\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.fDrawImage();\n\t\t\t\t\t}, 100)\n\t\t\t\t} else if (self.scaleSize * self.useHeight < style.width) {\n\t\t\t\t\t//高短宽长\n\t\t\t\t\tself.posHeight = style.top;\n\t\t\t\t\tself.scaleSize = 1\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tself.fDrawImage();\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t} else if (this.scaleSize == 1) {\n\t\t\t\tlet endWidth = this.posWidth - this.postFirst.posWidth,\n\t\t\t\t\tfirstWidth = this.postFirst.left - this.postFirst.posWidth;\n\t\t\t\tlet endHeight = this.posHeight - this.postFirst.posHeight,\n\t\t\t\t\tfirstHigth = this.postFirst.top - this.postFirst.posHeight;\n\t\t\t\tif (endWidth > 0 && this.posWidth > this.postFirst.left) {\n\t\t\t\t\t//右滑动过长\n\t\t\t\t\tthis.posWidth = this.postFirst.left;\n\t\t\t\t} else if (endWidth < 0 && endWidth < firstWidth) {\n\t\t\t\t\t//左滑动过长\n\t\t\t\t\tthis.posWidth = -this.postFirst.left + this.postFirst.posWidth * 2;\n\t\t\t\t}\n\n\t\t\t\tif (endHeight < 0 && this.posHeight < this.postFirst.top) {\n\t\t\t\t\t//上滑动过长\n\t\t\t\t\tthis.posHeight = -this.postFirst.top + this.postFirst.posHeight * 2 ;\n\t\t\t\t} else if (endHeight > 0 && endHeight > firstHigth) {\n\t\t\t\t\t//下滑动过长\n\t\t\t\t\tthis.posHeight = this.postFirst.top;\n\t\t\t\t}\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tself.fDrawImage();\n\t\t\t\t}, 100);\n\n\t\t\t}\n\t\t\tif (touch0) {\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t} else {\n\t\t\t\tthis.touch0 = null;\n\t\t\t\tthis.touch1 = null;\n\t\t\t}\n\t\t},\n\t\tbtop(base64) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tvar arr = base64.split(','),\n\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\t\t\t\tbstr = atob(arr[1]),\n\t\t\t\t\tn = bstr.length,\n\t\t\t\t\tu8arr = new Uint8Array(n);\n\t\t\t\twhile (n--) {\n\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t\t\t}\n\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], {\n\t\t\t\t\ttype: mime\n\t\t\t\t})));\n\t\t\t});\n\t\t},\n\t}\n}\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cropper.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--10-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--10-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--10-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\less-loader\\\\dist\\\\cjs.js??ref--10-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--10-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-custom-block-loader\\\\index.js??ref--0-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./cropper.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}